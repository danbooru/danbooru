$(".source-data").replaceWith("<%= j render_source_data(@source) %>");

$(".translated-tags-related-tags-column").replaceWith("<%= j render "related_tags/translated_tags", source: @source %>");
Danbooru.RelatedTag.update_selected();

if ($("#c-uploads #a-show").length) {
  Danbooru.Utility.alpineReady(() => {
    let sourceTitle = <%= raw @source.dtext_artist_commentary_title.to_json %>;
    let sourceDesc = <%= raw @source.dtext_artist_commentary_desc.to_json %>;

    if (sourceTitle || sourceDesc) {
      $("#post_artist_commentary_original_title").val(sourceTitle);
      $(".post_artist_commentary_original_description .dtext-editor").get(0).editor.dtext = sourceDesc;
    }

    let publishedAt = <%= raw @source.published_at_string.to_json %>;
    if (publishedAt) {
      $("#post_published_at_string").val(publishedAt);
    }
  });
}
