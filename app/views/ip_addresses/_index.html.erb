<%= table_for @ip_addresses, {class: "striped autofit"} do |t| %>
  <% t.column "Source" do |ip| %>
    <%= link_to ip.model_type.underscore.humanize, ip_addresses_path(search: { model_type: ip.model_type }) %>
  <% end %>
  <% t.column "ID" do |ip| %>
    <%= link_to "##{ip.model_id}", ip.model %>
  <% end %>
  <% t.column "IP Address" do |ip| %>
    <%= link_to ip.ip_addr, ip_addresses_path(search: { ip_addr: ip.ip_addr }) %>
    <%= link_to "»", ip_addresses_path(search: { ip_addr: ip.ip_addr, group_by: "user" }) %>
  <% end %>
  <% t.column "User" do |ip| %>
    <%= link_to_user ip.user %>
    <%= link_to "»", ip_addresses_path(search: { user_id: ip.user_id, group_by: "ip_addr" }) %>
  <% end %>
  <% t.column "Date" do |ip| %>
    <%= time_ago_in_words_tagged ip.created_at %>
  <% end %>
  <% t.column column: "ip-info" do |ip| %>
    <%= link_to "IP info", "https://ipinfo.io/#{ip.ip_addr}" %>
  <% end %>
<% end %>

<%= numbered_paginator(@ip_addresses) %>
